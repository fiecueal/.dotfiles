# i3 config file (v4)
# v4.24
# global keybinds not in this config:
# super+e -> emote(flatpak)
# super+k -> fcitx5
# super+r -> obs start/stop recording
# super+c -> xclicker

exec_always --no-startup-id xmodmap ~/.config/X11/xmodmap

set $super Mod4
set $alt   Mod1

font pango:Noto Mono 13

assign [class="(?i)ff1"]                         1
assign [class="(?i)(thunar|gnome-commander)"]    2
assign [class="(?i)(git-cola|sublime_merge)"]    3
assign [class="(?i)sublime_text"]                4
assign [class="(?i)ff5"]                         5
assign [class="(?i)foliate"]                     6
assign [class="(?i)xreader"]                     6
assign [class="(?i)grayjay"]                     7
assign [class="(?i)godot"]                       7
assign [class="(?i)thunderbird-esr"]             8
assign [class="(?i)ff9"]                         9
assign [class="(?i)(lutris|com-atlauncher-app)"] 10
assign [class="(?i)(heroic|steam)"]              11
assign [class="(?i)minecraft.*"]                 12

for_window [class="(?i)dragonruby"] border none
for_window [class="(?i)calculator|protonvpn-app|font-manager"] floating enable
# for_window [floating] resize set 1280 720
for_window [floating] border pixel 3
for_window [floating] move position center

gaps inner 14px
default_border pixel 2

focus_follows_mouse no
floating_modifier $super
tiling_drag modifier titlebar

bindsym $super+Shift+c reload
bindsym $super+Shift+r restart

# class                   border  bg      text    indic   child_border
  client.focused          #e965a5 #e965a5 #e965a5 #e965a5 #e965a5
# client.focused_inactive #333333 #5f676a #ffffff #484e50 #5f676a
# client.unfocused        #333333 #222222 #888888 #292d2e #222222
# client.urgent           #2f343a #900000 #ffffff #900000 #900000
# client.placeholder      #000000 #0c0c0c #ffffff #000000 #0c0c0c
# client.background       #000000

bindsym $super+$alt+F1  exec firefox -P p1 --class ff1
bindsym $super+$alt+F2  exec thunar
bindsym $super+$alt+F3  exec smerge
bindsym $super+$alt+F4  exec subl
bindsym $super+$alt+F5  exec firefox -P p5 --class ff5
bindsym $super+$alt+F6  exec foliate
bindsym $super+$alt+F7  exec godot
bindsym $super+$alt+F8  exec thunderbird
bindsym $super+$alt+F9  exec firefox -P p9 --class ff9
bindsym $super+$alt+F10 exec flatpak run net.lutris.Lutris
bindsym $super+$alt+F11 exec steam

bindsym $super+d exec i3-dmenu-desktop
bindsym $super+Return exec wezterm
bindsym $super+Shift+q kill

bindsym --release       Print exec --no-startup-id flameshot screen -c -p ~/Pictures/screenshots/$(date +'%Y-%m-%d-%T').png
bindsym --release Shift+Print exec --no-startup-id flameshot gui -s -c -p ~/Pictures/screenshots/$(date +'%Y-%m-%d-%T').png
# just so they work even when super key is held
bindsym --release       $super+Print exec --no-startup-id flameshot screen -c -p ~/Pictures/screenshots/$(date +'%Y-%m-%d-%T').png
bindsym --release $super+Shift+Print exec --no-startup-id flameshot gui -s -c -p ~/Pictures/screenshots/$(date +'%Y-%m-%d-%T').png

bindsym F16       exec --no-startup-id pactl set-sink-mute   @DEFAULT_SINK@ toggle
bindsym F20       exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +4% && pactl set-sink-mute @DEFAULT_SINK@ 0
bindsym F24       exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -4%
bindsym F15       exec --no-startup-id playerctl play-pause
bindsym F19       exec --no-startup-id playerctl next
bindsym F23       exec --no-startup-id playerctl prev
bindsym F14       exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym F18       exec --no-startup-id ~/.config/i3/set_default_sink
bindsym F22       exec --no-startup-id pavucontrol -t 3
bindsym F13       exec --no-startup-id ~/.config/i3/xsct dim
bindsym F17       exec --no-startup-id ~/.config/i3/xsct up
bindsym F21       exec --no-startup-id ~/.config/i3/xsct down
bindsym Shift+F13 exec --no-startup-id ~/.config/i3/xsct reset_temp
bindsym Shift+F17 exec --no-startup-id ~/.config/i3/xsct cool
bindsym Shift+F21 exec --no-startup-id ~/.config/i3/xsct warm

# when I'm not on my keyboard
#bindsym $super+1           exec --no-startup-id pactl set-sink-mute   @DEFAULT_SINK@ toggle
#bindsym $super+2           exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +4% && pactl #set-sink-mute @DEFAULT_SINK@ 0
#bindsym $super+3           exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -4%
#bindsym $super+4           exec --no-startup-id playerctl play-pause
#bindsym $super+5           exec --no-startup-id playerctl next
#bindsym $super+6           exec --no-startup-id playerctl prev
#bindsym $super+7           exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle
#bindsym $super+8           exec --no-startup-id ~/.config/i3/set_default_sink
#bindsym $super+9           exec --no-startup-id pavucontrol -t 3
#bindsym $super+0           exec --no-startup-id ~/.config/i3/xsct dim
#bindsym $super+minus       exec --no-startup-id ~/.config/i3/xsct up
#bindsym $super+equal       exec --no-startup-id ~/.config/i3/xsct down
#bindsym $super+Shift+0     exec --no-startup-id ~/.config/i3/xsct reset_temp
#bindsym $super+Shift+minus exec --no-startup-id ~/.config/i3/xsct cool
#bindsym $super+Shift+equal exec --no-startup-id ~/.config/i3/xsct warm

bindsym $super+Up    focus up
bindsym $super+Down  focus down
bindsym $super+Left  focus left
bindsym $super+Right focus right

bindsym $super+Shift+Up    move up
bindsym $super+Shift+Down  move down
bindsym $super+Shift+Left  move left
bindsym $super+Shift+Right move right

bindsym $super+Control+Shift+Up    move workspace to output up
bindsym $super+Control+Shift+Down  move workspace to output down
bindsym $super+Control+Shift+Left  move workspace to output left
bindsym $super+Control+Shift+Right move workspace to output right

bindsym $super+y layout stacking
bindsym $super+u layout tabbed
bindsym $super+i layout toggle split
bindsym $super+o split h
bindsym $super+p split v

bindsym $super+f fullscreen toggle
bindsym $super+Shift+f floating toggle

bindsym $super+space focus mode_toggle
bindsym $super+a     focus parent
bindsym $super+s     focus child

bindsym $super+Tab       workspace next
bindsym $super+Shift+Tab workspace prev
bindsym --whole-window $super+button5 workspace next
bindsym --whole-window $super+button4 workspace prev

bindsym $super+F1  workspace 1
bindsym $super+F2  workspace 2
bindsym $super+F3  workspace 3
bindsym $super+F4  workspace 4
bindsym $super+F5  workspace 5
bindsym $super+F6  workspace 6
bindsym $super+F7  workspace 7
bindsym $super+F8  workspace 8
bindsym $super+F9  workspace 9
bindsym $super+F10 workspace 10
bindsym $super+F11 workspace 11
bindsym $super+F12 workspace 12

bindsym $super+Shift+F1  move container to workspace 1,  workspace 1
bindsym $super+Shift+F2  move container to workspace 2,  workspace 2
bindsym $super+Shift+F3  move container to workspace 3,  workspace 3
bindsym $super+Shift+F4  move container to workspace 4,  workspace 4
bindsym $super+Shift+F5  move container to workspace 5,  workspace 5
bindsym $super+Shift+F6  move container to workspace 6,  workspace 6
bindsym $super+Shift+F7  move container to workspace 7,  workspace 7
bindsym $super+Shift+F8  move container to workspace 8,  workspace 8
bindsym $super+Shift+F9  move container to workspace 9,  workspace 9
bindsym $super+Shift+F10 move container to workspace 10, workspace 10
bindsym $super+Shift+F11 move container to workspace 11, workspace 11
bindsym $super+Shift+F12 move container to workspace 12, workspace 12

bindsym $super+Shift+e exec "pgrep i3-nagbar || i3-nagbar -t warning -m 'What do' \
-B 'lock'     'pkill i3-nagbar && xset dpms force off' \
-B 'suspend'  'systemctl suspend' \
-B 'logout'   'i3-msg exit' \
-B 'poweroff' 'systemctl poweroff' \
-B 'reboot'   'systemctl reboot' \
-B 'BIOS'     'systemctl reboot --firmware-setup'"

bar {
  colors {
    background #282433
    statusline #eee9fc
  # separator  #000000

  # class              border  bg      text
    focused_workspace  #e965a5 #3f3951 #e965a5
  # active_workspace   #333333 #5f676a #ffffff
    inactive_workspace #3f3951 #282433 #3f3951
    urgent_workspace   #282433 #e965a5 #282433
  # binding_mode       #2f343a #900000 #ffffff
  }
  mode hide
  hidden_state hide
  modifier $super
  tray_output primary

  status_command i3status
}
